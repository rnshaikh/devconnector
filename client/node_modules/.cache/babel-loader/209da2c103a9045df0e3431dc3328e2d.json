{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\rshaikh\\\\Desktop\\\\development\\\\dev-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{REGISTER_SUCCESS,REGISTER_FAIL,AUTH_FAIL,USER_LOADED,LOGIN_SUCCESS,LOGIN_FAIL,LOGOUT,DELETE_ACCOUNT}from\"../actions/types\";var initialState={token:localStorage.getItem('token'),isAuthenticated:null,loading:true,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case REGISTER_SUCCESS:case LOGIN_SUCCESS:debugger;localStorage.setItem('token',payload.data.token);return _objectSpread({},state,{},payload,{isAuthenticated:true,loading:false});case REGISTER_FAIL:case AUTH_FAIL:case LOGIN_FAIL:case LOGOUT:case DELETE_ACCOUNT:localStorage.removeItem('token');return _objectSpread({},state,{isAuthenticated:false,token:null,loading:false});case USER_LOADED:return _objectSpread({},state,{isAuthenticated:true,loading:false},payload);default:return state;}}","map":{"version":3,"sources":["C:/Users/rshaikh/Desktop/development/dev-front/src/reducers/auth.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","AUTH_FAIL","USER_LOADED","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","DELETE_ACCOUNT","initialState","token","localStorage","getItem","isAuthenticated","loading","user","state","action","type","payload","setItem","data","removeItem"],"mappings":"8KAAA,OAAQA,gBAAR,CAA2BC,aAA3B,CAA0CC,SAA1C,CAAqDC,WAArD,CAAkEC,aAAlE,CAAiFC,UAAjF,CAA6FC,MAA7F,CAAqGC,cAArG,KAA0H,kBAA1H,CAGA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADU,CAEjBC,eAAe,CAAG,IAFD,CAGjBC,OAAO,CAAE,IAHQ,CAIjBC,IAAI,CAAE,IAJW,CAArB,CAQA,cAAe,WAAmC,IAA1BC,CAAAA,KAA0B,2DAApBP,YAAoB,IAAPQ,CAAAA,MAAO,8CAEvCC,CAAAA,IAFuC,CAEtBD,MAFsB,CAEvCC,IAFuC,CAEjCC,OAFiC,CAEtBF,MAFsB,CAEjCE,OAFiC,CAI9C,OAAOD,IAAP,EAEI,IAAKjB,CAAAA,gBAAL,CACA,IAAKI,CAAAA,aAAL,CACI,SACAM,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BD,OAAO,CAACE,IAAR,CAAaX,KAA3C,EACA,wBACOM,KADP,IAEOG,OAFP,EAGIN,eAAe,CAAC,IAHpB,CAIIC,OAAO,CAAC,KAJZ,GAOJ,IAAKZ,CAAAA,aAAL,CACA,IAAKC,CAAAA,SAAL,CACA,IAAKG,CAAAA,UAAL,CACA,IAAKC,CAAAA,MAAL,CACA,IAAKC,CAAAA,cAAL,CACIG,YAAY,CAACW,UAAb,CAAwB,OAAxB,EACA,wBACON,KADP,EAEIH,eAAe,CAAC,KAFpB,CAGIH,KAAK,CAAC,IAHV,CAIII,OAAO,CAAE,KAJb,GAOJ,IAAKV,CAAAA,WAAL,CACI,wBACOY,KADP,EAEIH,eAAe,CAAE,IAFrB,CAGIC,OAAO,CAAE,KAHb,EAIOK,OAJP,EAQJ,QACI,MAAOH,CAAAA,KAAP,CApCR,CAuCH","sourcesContent":["import {REGISTER_SUCCESS , REGISTER_FAIL, AUTH_FAIL, USER_LOADED, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, DELETE_ACCOUNT} from \"../actions/types\";\r\n\r\n\r\nconst initialState = {\r\n    token: localStorage.getItem('token'),\r\n    isAuthenticated : null,\r\n    loading: true,\r\n    user: null,\r\n\r\n}\r\n\r\nexport default function(state=initialState,action){\r\n\r\n    const {type, payload} = action\r\n\r\n    switch(type){\r\n\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            debugger;\r\n            localStorage.setItem('token', payload.data.token)\r\n            return {\r\n                ...state,\r\n                ...payload,\r\n                isAuthenticated:true,\r\n                loading:false\r\n            }\r\n        \r\n        case REGISTER_FAIL:\r\n        case AUTH_FAIL:\r\n        case LOGIN_FAIL:\r\n        case LOGOUT:\r\n        case DELETE_ACCOUNT:\r\n            localStorage.removeItem('token')\r\n            return {\r\n                ...state,\r\n                isAuthenticated:false,\r\n                token:null,\r\n                loading: false\r\n            }\r\n        \r\n        case USER_LOADED:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n                ...payload\r\n            }\r\n\r\n        \r\n        default:\r\n            return state\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}