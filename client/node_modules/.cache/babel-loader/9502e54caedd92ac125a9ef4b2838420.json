{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshaikh\\\\Desktop\\\\development\\\\dev-front\\\\src\\\\components\\\\comment\\\\Comments.js\";\nimport React, { useEffect, Fragment } from 'react';\nimport { connect } from \"react-redux\";\nimport { useState } from 'react';\nimport Spinner from \"../layout/Spinner\";\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { getPostById, createComment, removeComment } from '../../actions/post';\nimport CommentList from './CommentList';\n\nfunction Comments({\n  match,\n  post,\n  auth,\n  getPostById,\n  createComment,\n  removeComment\n}) {\n  const [formdata, setformdata] = useState({\n    text: \"\"\n  });\n  const {\n    text\n  } = formdata;\n  useEffect(() => {\n    debugger;\n    getPostById(match.params.id);\n  }, [getPostById, post.post]);\n  console.log(\"comment.js\", post.post);\n\n  const onChange = e => {\n    setformdata({ ...formdata,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    debugger;\n    e.preventDefault();\n    createComment(formdata, post.post._id);\n    setformdata({ ...formdata,\n      text: \"\"\n    });\n  };\n\n  return post.loading && post.post == null ? /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 46\n    }\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/posts\",\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Back To Posts\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post bg-white p-1 my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"profile.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"round-img\",\n    src: post.post.gravtar,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, post.post.name))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, post.post.text))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-form\",\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-primary p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Leave A Comment\")), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"text\",\n    cols: \"30\",\n    rows: \"5\",\n    value: text,\n    placeholder: \"Comment on this post\",\n    onChange: e => onChange(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-dark my-1\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(CommentList, {\n    comments: post.post.comments,\n    auth: auth,\n    removeComment: removeComment,\n    post_id: post.post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }));\n}\n\nComments.propTypes = {\n  post: PropTypes.object.isRequired,\n  getPostById: PropTypes.func.isRequired,\n  createComment: PropTypes.func.isRequired,\n  removeComment: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  post: state.post,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  getPostById,\n  createComment,\n  removeComment\n})(Comments);","map":{"version":3,"sources":["C:/Users/rshaikh/Desktop/development/dev-front/src/components/comment/Comments.js"],"names":["React","useEffect","Fragment","connect","useState","Spinner","PropTypes","Link","getPostById","createComment","removeComment","CommentList","Comments","match","post","auth","formdata","setformdata","text","params","id","console","log","onChange","e","target","name","value","onSubmit","preventDefault","_id","loading","gravtar","comments","propTypes","object","isRequired","func","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React,{useEffect, Fragment} from 'react';\r\nimport{ connect }  from \"react-redux\";\r\nimport { useState } from 'react'\r\nimport Spinner from \"../layout/Spinner\";\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport {getPostById, createComment, removeComment} from '../../actions/post';\r\nimport CommentList from './CommentList';\r\n\r\n\r\nfunction Comments({match,post,auth, getPostById, createComment, removeComment}) {\r\n\r\n    const [formdata, setformdata] = useState({\r\n        text:\"\",\r\n\r\n    });\r\n    const {\r\n        text,\r\n    } = formdata;\r\n\r\n    useEffect(() => {\r\n        debugger;\r\n        getPostById(match.params.id);\r\n    }, [getPostById, post.post]);\r\n\r\n\r\n    console.log(\"comment.js\", post.post)\r\n    \r\n    \r\n    const onChange =(e)=>{ setformdata({...formdata, [e.target.name]:e.target.value})};\r\n    const onSubmit = (e)=>{\r\n        debugger;\r\n        e.preventDefault();\r\n        createComment(formdata,post.post._id)\r\n        setformdata({...formdata, text:\"\"})\r\n    }\r\n\r\n\r\n    return post.loading && post.post==null ? <Spinner></Spinner>:\r\n        (\r\n        <Fragment>\r\n            <Link to=\"/posts\" className=\"btn\">Back To Posts</Link>\r\n            <div className=\"post bg-white p-1 my-1\">\r\n                <div>\r\n                <a href=\"profile.html\">\r\n                    <img\r\n                    className=\"round-img\"\r\n                    src={post.post.gravtar}\r\n                    alt=\"\"\r\n                    />\r\n                    <h4>{post.post.name}</h4>\r\n                </a>\r\n                </div>\r\n                <div>\r\n                <p className=\"my-1\">\r\n                    {post.post.text}\r\n                </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"post-form\" onSubmit={e=> onSubmit(e)}> \r\n                <div className=\"bg-primary p\">\r\n                <h3>Leave A Comment</h3>\r\n                </div>\r\n                <form className=\"form my-1\">\r\n                <textarea\r\n                    name=\"text\"\r\n                    cols=\"30\"\r\n                    rows=\"5\"\r\n                    value={text}\r\n                    placeholder=\"Comment on this post\"\r\n                    onChange = {(e)=>onChange(e)}\r\n                    required\r\n                ></textarea>\r\n                <input type=\"submit\" className=\"btn btn-dark my-1\" value=\"Submit\" />\r\n                </form>\r\n            </div>\r\n\r\n            <CommentList comments={post.post.comments} auth={auth} removeComment={removeComment} post_id={post.post._id}></CommentList>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nComments.propTypes = {\r\n    post: PropTypes.object.isRequired,\r\n    getPostById: PropTypes.func.isRequired,\r\n    createComment: PropTypes.func.isRequired,\r\n    removeComment: PropTypes.func.isRequired,\r\n    auth : PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps=state=>({\r\n    post: state.post,\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, { getPostById, createComment, removeComment })(Comments);\r\n"]},"metadata":{},"sourceType":"module"}