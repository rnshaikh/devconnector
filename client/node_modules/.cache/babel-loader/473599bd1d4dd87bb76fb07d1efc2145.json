{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\rshaikh\\\\Desktop\\\\development\\\\dev-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\rshaikh\\\\Desktop\\\\development\\\\dev-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\rshaikh\\\\Desktop\\\\development\\\\dev-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,Fragment}from'react';import{connect}from\"react-redux\";import{getPost,createPost,deletePost,likePost,unlikePost}from'../../actions/post';import{useState}from'react';import PostList from'./PostList';function Posts(_ref){var auth=_ref.auth,post=_ref.post,getPost=_ref.getPost,createPost=_ref.createPost,deletePost=_ref.deletePost,likePost=_ref.likePost,unlikePost=_ref.unlikePost,history=_ref.history;var _useState=useState({text:\"\"}),_useState2=_slicedToArray(_useState,2),formdata=_useState2[0],setformdata=_useState2[1];var text=formdata.text;useEffect(function(){getPost();},[getPost]);console.log(\"Posts.js\",post);var _onChange=function onChange(e){setformdata(_objectSpread({},formdata,_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();createPost(formdata,history);setformdata(_objectSpread({},formdata,{text:\"\"}));};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"large text-primary\"},\"Posts\"),/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user\"}),\" Welcome to the community!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"post-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-primary p\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Say Something...\")),/*#__PURE__*/React.createElement(\"form\",{className:\"form my-1\",onSubmit:function onSubmit(e){return _onSubmit(e);}},/*#__PURE__*/React.createElement(\"textarea\",{name:\"text\",cols:\"30\",rows:\"5\",value:text,placeholder:\"Create a post\",required:true,onChange:function onChange(e){return _onChange(e);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-dark my-1\",value:\"Submit\"}))),/*#__PURE__*/React.createElement(PostList,{auth:auth,post:post,deletePost:deletePost,likePost:likePost,unlikePost:unlikePost}));}var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,post:state.post,posts:state.posts};};export default connect(mapStateToProps,{getPost:getPost,createPost:createPost,deletePost:deletePost,likePost:likePost,unlikePost:unlikePost})(Posts);","map":{"version":3,"sources":["C:/Users/rshaikh/Desktop/development/dev-front/src/components/post/Posts.js"],"names":["React","useEffect","Fragment","connect","getPost","createPost","deletePost","likePost","unlikePost","useState","PostList","Posts","auth","post","history","text","formdata","setformdata","console","log","onChange","e","target","name","value","onSubmit","preventDefault","mapStateToProps","state","posts"],"mappings":"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","sourcesContent":["import React,{useEffect, Fragment} from 'react';\r\nimport{ connect }  from \"react-redux\";\r\nimport { getPost, createPost, deletePost, likePost, unlikePost } from '../../actions/post';\r\nimport { useState } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport PostList from './PostList';\r\n\r\n\r\nfunction Posts({auth, post, getPost, createPost, deletePost, likePost, unlikePost, history}) {\r\n\r\n    const [formdata, setformdata] = useState({\r\n        text:\"\",\r\n\r\n    });\r\n    const {\r\n        text,\r\n    } = formdata;\r\n\r\n    useEffect(() => {\r\n        getPost();\r\n    }, [getPost]);\r\n\r\n    console.log(\"Posts.js\", post)\r\n    const onChange =(e)=>{ setformdata({...formdata, [e.target.name]:e.target.value})};\r\n    const onSubmit = (e)=>{\r\n        e.preventDefault();\r\n        createPost(formdata, history)\r\n        setformdata({...formdata, text:\"\"})\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <h1 className=\"large text-primary\">\r\n                Posts\r\n            </h1>\r\n            <p className=\"lead\"><i className=\"fas fa-user\"></i> Welcome to the community!</p>\r\n\r\n            <div className=\"post-form\">\r\n                <div className=\"bg-primary p\">\r\n                    <h3>Say Something...</h3>\r\n                </div>\r\n                <form className=\"form my-1\" onSubmit={e=> onSubmit(e)}>\r\n                    <textarea\r\n                        name=\"text\"\r\n                        cols=\"30\"\r\n                        rows=\"5\"\r\n                        value={text}\r\n                        placeholder=\"Create a post\"\r\n                        required\r\n                        onChange={(e)=>onChange(e)}\r\n                    ></textarea>\r\n                    <input type=\"submit\" className=\"btn btn-dark my-1\" value=\"Submit\" />\r\n                </form>\r\n            </div>\r\n\r\n            <PostList auth={auth} post={post} deletePost={deletePost} likePost={likePost} unlikePost={unlikePost}></PostList>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nPosts.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    post: PropTypes.object.isRequired,\r\n    getPost: PropTypes.func.isRequired,\r\n    createPost: PropTypes.func.isRequired,\r\n    deletePost : PropTypes.func.isRequired,\r\n    likePost : PropTypes.func.isRequired,\r\n    unlikePost: PropTypes.func.isRequired,\r\n}\r\nconst mapStateToProps=state=>({\r\n    auth : state.auth,\r\n    post: state.post,\r\n    posts : state.posts,\r\n})\r\n  \r\nexport default connect(mapStateToProps, { getPost, createPost, deletePost, likePost, unlikePost})(Posts);\r\n"]},"metadata":{},"sourceType":"module"}