{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\rshaikh\\\\Desktop\\\\development\\\\dev-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\rshaikh\\\\Desktop\\\\development\\\\dev-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import{setAlert}from'./alert';import axios from'axios';import{PROFILE_ERROR,GET_PROFILE,ADD_EDUCATION_ERROR,ADD_EXPERIENCE_ERROR,DELETE_ACCOUNT,CLEAR_PROFILE,GET_ALL_PROFILE,ALL_PROFILE_ERROR,GET_REPO}from'./types';// current user profile\nexport var getCurrentUserProfile=function getCurrentUserProfile(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;debugger;_context.next=4;return axios.get('http://127.0.0.1:5000/api/profile/profile/');case 4:res=_context.sent;dispatch({type:GET_PROFILE,payload:res.data});_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);debugger;dispatch({type:PROFILE_ERROR,payload:{status:_context.t0.response.status,msg:_context.t0.response.statusText}});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getProfileByUserId=function getProfileByUserId(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;debugger;_context2.next=4;return axios.get(\"http://127.0.0.1:5000/api/profile/user/\".concat(id));case 4:res=_context2.sent;dispatch({type:GET_PROFILE,payload:res.data});_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);debugger;dispatch({type:PROFILE_ERROR,payload:{status:_context2.t0.response.status,msg:_context2.t0.response.statusText}});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getAllProfile=function getAllProfile(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;debugger;_context3.next=4;return axios.get('http://127.0.0.1:5000/api/profile/all/');case 4:res=_context3.sent;dispatch({type:GET_ALL_PROFILE,payload:res.data});_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);debugger;dispatch({type:ALL_PROFILE_ERROR,payload:{status:_context3.t0.response.status,msg:_context3.t0.response.statusText}});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getGithubRepo=function getGithubRepo(handle){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;debugger;_context4.next=4;return axios.get(\"http://127.0.0.1:5000/api/profile/github/\".concat(handle));case 4:res=_context4.sent;dispatch({type:GET_REPO,payload:res.data});_context4.next=12;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);debugger;dispatch({type:PROFILE_ERROR,payload:{status:_context4.t0.response.status,msg:_context4.t0.response.statusText}});case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// create update profile\nexport var createProfile=function createProfile(fromData,history){var edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;console.log(\"Profile Form Data\",fromData);debugger;if(fromData.skills.constructor===Array){fromData.skills=fromData.skills.join();}config={headers:{\"content-type\":\"application/json\"}};_context5.next=7;return axios.post('http://127.0.0.1:5000/api/profile/createupdateprofile/',fromData,config);case 7:res=_context5.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(edit?\"Profile Updated\":\"Profile Created\",\"success\"));history.push('/dashboard');_context5.next=19;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](0);errors=_context5.t0.response.data.errors;console.log(_context5.t0);if(errors){errors.forEach(function(error){dispatch(setAlert(error,\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{status:_context5.t0.response.status,msg:_context5.t0.response.statusText}});case 19:case\"end\":return _context5.stop();}}},_callee5,null,[[0,13]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var addEducation=function addEducation(fromData,history){var edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;config={headers:{\"content-type\":\"application/json\"}};_context6.next=4;return axios.post('http://127.0.0.1:5000/api/profile/addEducation/',fromData,config);case 4:res=_context6.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(edit?\"Education Updated\":\"Education Added\",\"success\"));history.push('/dashboard');_context6.next=16;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);errors=_context6.t0.response.data.errors;console.log(_context6.t0);if(errors){errors.forEach(function(error){dispatch(setAlert(error,\"danger\"));});}dispatch({type:ADD_EDUCATION_ERROR,payload:{status:_context6.t0.response.status,msg:_context6.t0.response.statusText}});case 16:case\"end\":return _context6.stop();}}},_callee6,null,[[0,10]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var addExperience=function addExperience(fromData,history){var edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;config={headers:{\"content-type\":\"application/json\"}};_context7.next=4;return axios.post('http://127.0.0.1:5000/api/profile/addExperience/',fromData,config);case 4:res=_context7.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(edit?\"Education Updated\":\"Education Added\",\"success\"));history.push('/dashboard');_context7.next=16;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](0);errors=_context7.t0.response.data.errors;console.log(_context7.t0);if(errors){errors.forEach(function(error){dispatch(setAlert(error,\"danger\"));});}dispatch({type:ADD_EXPERIENCE_ERROR,payload:{status:_context7.t0.response.status,msg:_context7.t0.response.statusText}});case 16:case\"end\":return _context7.stop();}}},_callee7,null,[[0,10]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var deleteExperience=function deleteExperience(id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;config={headers:{\"content-type\":\"application/json\"}};_context8.next=4;return axios.delete(\"http://127.0.0.1:5000/api/profile/experience/\".concat(id),config);case 4:res=_context8.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(\"Experience deleted\",\"success\"));_context8.next=15;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](0);errors=_context8.t0.response.data.errors;console.log(_context8.t0);if(errors){errors.forEach(function(error){dispatch(setAlert(error,\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{status:_context8.t0.response.status,msg:_context8.t0.response.statusText}});case 15:case\"end\":return _context8.stop();}}},_callee8,null,[[0,9]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};export var deleteEducation=function deleteEducation(id){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;config={headers:{\"content-type\":\"application/json\"}};_context9.next=4;return axios.delete(\"http://127.0.0.1:5000/api/profile/education/\".concat(id),config);case 4:res=_context9.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(\"Education deleted\",\"success\"));_context9.next=15;break;case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](0);errors=_context9.t0.response.data.errors;console.log(_context9.t0);if(errors){errors.forEach(function(error){dispatch(setAlert(error,\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{status:_context9.t0.response.status,msg:_context9.t0.response.statusText}});case 15:case\"end\":return _context9.stop();}}},_callee9,null,[[0,9]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};export var deleteAccount=function deleteAccount(id){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){var config,res,errors;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!window.confirm(\"Are you sure?\")){_context10.next=17;break;}_context10.prev=1;config={headers:{\"content-type\":\"application/json\"}};_context10.next=5;return axios.delete(\"http://127.0.0.1:5000/api/profile/profile\",config);case 5:res=_context10.sent;dispatch({type:CLEAR_PROFILE,payload:res.data});dispatch({type:DELETE_ACCOUNT,payload:res.data});dispatch(setAlert(\"Account deleted\",\"success\"));_context10.next=17;break;case 11:_context10.prev=11;_context10.t0=_context10[\"catch\"](1);errors=_context10.t0.response.data.errors;console.log(_context10.t0);if(errors){errors.forEach(function(error){dispatch(setAlert(error,\"danger\"));});}dispatch({type:PROFILE_ERROR,payload:{status:_context10.t0.response.status,msg:_context10.t0.response.statusText}});case 17:case\"end\":return _context10.stop();}}},_callee10,null,[[1,11]]);}));return function(_x10){return _ref10.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/rshaikh/Desktop/development/dev-front/src/actions/profile.js"],"names":["setAlert","axios","PROFILE_ERROR","GET_PROFILE","ADD_EDUCATION_ERROR","ADD_EXPERIENCE_ERROR","DELETE_ACCOUNT","CLEAR_PROFILE","GET_ALL_PROFILE","ALL_PROFILE_ERROR","GET_REPO","getCurrentUserProfile","dispatch","get","res","type","payload","data","status","response","msg","statusText","getProfileByUserId","id","getAllProfile","getGithubRepo","handle","createProfile","fromData","history","edit","console","log","skills","constructor","Array","join","config","headers","post","push","errors","forEach","error","addEducation","addExperience","deleteExperience","delete","deleteEducation","deleteAccount","window","confirm"],"mappings":"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","sourcesContent":["import {setAlert} from './alert';\r\nimport axios from 'axios';\r\nimport{ PROFILE_ERROR, GET_PROFILE, ADD_EDUCATION_ERROR, ADD_EXPERIENCE_ERROR, DELETE_ACCOUNT,CLEAR_PROFILE,\r\n        GET_ALL_PROFILE, ALL_PROFILE_ERROR, GET_REPO} from './types';\r\n\r\n\r\n// current user profile\r\nexport const getCurrentUserProfile = ()=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get('http://127.0.0.1:5000/api/profile/profile/')\r\n\r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const getProfileByUserId = (id)=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get(`http://127.0.0.1:5000/api/profile/user/${id}`)\r\n\r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport const getAllProfile = ()=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get('http://127.0.0.1:5000/api/profile/all/')\r\n\r\n        dispatch({\r\n            type: GET_ALL_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: ALL_PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const getGithubRepo = (handle)=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get(`http://127.0.0.1:5000/api/profile/github/${handle}`)\r\n\r\n        dispatch({\r\n            type: GET_REPO,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n// create update profile\r\nexport const createProfile = (fromData, history, edit=false) => async dispatch =>{\r\n    try{    \r\n        console.log(\"Profile Form Data\", fromData)\r\n        debugger;\r\n        if(fromData.skills.constructor === Array){\r\n            fromData.skills = fromData.skills.join()\r\n        }\r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.post('http://127.0.0.1:5000/api/profile/createupdateprofile/', fromData, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(edit? \"Profile Updated\": \"Profile Created\", \"success\"));\r\n        \r\n        \r\n        history.push('/dashboard');\r\n        \r\n\r\n\r\n    }   \r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const addEducation = (fromData, history, edit=false) => async dispatch=>{\r\n    try{    \r\n        \r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.post('http://127.0.0.1:5000/api/profile/addEducation/', fromData, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(edit? \"Education Updated\": \"Education Added\", \"success\"));\r\n        \r\n        \r\n        history.push('/dashboard');\r\n        \r\n\r\n\r\n    }   \r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_EDUCATION_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n\r\n}\r\n\r\nexport const addExperience = (fromData, history, edit=false) => async dispatch=>{\r\n    try{    \r\n        \r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.post('http://127.0.0.1:5000/api/profile/addExperience/', fromData, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(edit? \"Education Updated\": \"Education Added\", \"success\"));\r\n        \r\n        \r\n        history.push('/dashboard');\r\n        \r\n\r\n\r\n    }   \r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_EXPERIENCE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n\r\n}\r\n\r\n\r\nexport const deleteExperience = (id) => async dispatch =>{\r\n    try{\r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.delete(`http://127.0.0.1:5000/api/profile/experience/${id}`, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(\"Experience deleted\", \"success\"));\r\n    }\r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n}\r\n\r\n\r\nexport const deleteEducation = (id) => async dispatch =>{\r\n    try{\r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.delete(`http://127.0.0.1:5000/api/profile/education/${id}`, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(\"Education deleted\", \"success\"));\r\n    }\r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n}\r\n\r\n\r\nexport const deleteAccount = (id) => async dispatch =>{\r\n\r\n    if(window.confirm(\"Are you sure?\")){\r\n\r\n        try{\r\n            const config = {\r\n                headers : {\r\n                    \"content-type\": \"application/json\",\r\n                }\r\n            }\r\n    \r\n            const res = await axios.delete(`http://127.0.0.1:5000/api/profile/profile`, config)\r\n            \r\n            dispatch({\r\n                type: CLEAR_PROFILE,\r\n                payload: res.data\r\n            });\r\n\r\n            dispatch({\r\n                type: DELETE_ACCOUNT,\r\n                payload: res.data\r\n            });\r\n            dispatch(setAlert(\"Account deleted\", \"success\"));\r\n        }\r\n        catch(err){\r\n    \r\n            const errors = err.response.data.errors\r\n            console.log(err)\r\n            if(errors){\r\n                errors.forEach(error => {\r\n                    dispatch(setAlert(error,\"danger\"))\r\n                });\r\n            }\r\n    \r\n            dispatch({\r\n                type: PROFILE_ERROR,\r\n                payload: {status:err.response.status, msg:err.response.statusText}\r\n            });\r\n    \r\n        }\r\n\r\n    }\r\n       \r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}