{"ast":null,"code":"import { setAlert } from './alert';\nimport axios from 'axios';\nimport { PROFILE_ERROR, GET_PROFILE, ADD_EDUCATION_ERROR, ADD_EXPERIENCE_ERROR, DELETE_ACCOUNT, CLEAR_PROFILE, GET_ALL_PROFILE, ALL_PROFILE_ERROR } from './types'; // current user profile\n\nexport const getCurrentUserProfile = () => async dispatch => {\n  try {\n    debugger;\n    const res = await axios.get('http://127.0.0.1:5000/api/profile/profile/');\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n  } catch (err) {\n    debugger;\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const getProfileByUserId = id => async dispatch => {\n  try {\n    debugger;\n    const res = await axios.get(`http://127.0.0.1:5000/api/profile/user/${id}`);\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n  } catch (err) {\n    debugger;\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const getAllProfile = () => async dispatch => {\n  try {\n    debugger;\n    const res = await axios.get('http://127.0.0.1:5000/api/profile/all/');\n    dispatch({\n      type: GET_ALL_PROFILE,\n      payload: res.data\n    });\n  } catch (err) {\n    debugger;\n    dispatch({\n      type: ALL_PROFILE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const getGithubRepo = handle => async dispatch => {\n  try {\n    debugger;\n    const res = await axios.get(`http://127.0.0.1:5000/api/profile/github/${handle}`);\n    dispatch({\n      type: GET_REPO,\n      payload: res.data\n    });\n  } catch (err) {\n    debugger;\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n}; // create update profile\n\nexport const createProfile = (fromData, history, edit = false) => async dispatch => {\n  try {\n    console.log(\"Profile Form Data\", fromData);\n    debugger;\n\n    if (fromData.skills.constructor == Array) {\n      fromData.skills = fromData.skills.join();\n    }\n\n    const config = {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    };\n    const res = await axios.post('http://127.0.0.1:5000/api/profile/createupdateprofile/', fromData, config);\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(edit ? \"Profile Updated\" : \"Profile Created\", \"success\"));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(err);\n\n    if (errors) {\n      errors.forEach(error => {\n        dispatch(setAlert(error, \"danger\"));\n      });\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const addEducation = (fromData, history, edit = false) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    };\n    const res = await axios.post('http://127.0.0.1:5000/api/profile/addEducation/', fromData, config);\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(edit ? \"Education Updated\" : \"Education Added\", \"success\"));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(err);\n\n    if (errors) {\n      errors.forEach(error => {\n        dispatch(setAlert(error, \"danger\"));\n      });\n    }\n\n    dispatch({\n      type: ADD_EDUCATION_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const addExperience = (fromData, history, edit = false) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    };\n    const res = await axios.post('http://127.0.0.1:5000/api/profile/addExperience/', fromData, config);\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(edit ? \"Education Updated\" : \"Education Added\", \"success\"));\n    history.push('/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(err);\n\n    if (errors) {\n      errors.forEach(error => {\n        dispatch(setAlert(error, \"danger\"));\n      });\n    }\n\n    dispatch({\n      type: ADD_EXPERIENCE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const deleteExperience = id => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    };\n    const res = await axios.delete(`http://127.0.0.1:5000/api/profile/experience/${id}`, config);\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Experience deleted\", \"success\"));\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(err);\n\n    if (errors) {\n      errors.forEach(error => {\n        dispatch(setAlert(error, \"danger\"));\n      });\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const deleteEducation = id => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    };\n    const res = await axios.delete(`http://127.0.0.1:5000/api/profile/education/${id}`, config);\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Education deleted\", \"success\"));\n  } catch (err) {\n    const errors = err.response.data.errors;\n    console.log(err);\n\n    if (errors) {\n      errors.forEach(error => {\n        dispatch(setAlert(error, \"danger\"));\n      });\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        status: err.response.status,\n        msg: err.response.statusText\n      }\n    });\n  }\n};\nexport const deleteAccount = id => async dispatch => {\n  if (window.confirm(\"Are you sure?\")) {\n    try {\n      const config = {\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      };\n      const res = await axios.delete(`http://127.0.0.1:5000/api/profile/profile`, config);\n      dispatch({\n        type: CLEAR_PROFILE,\n        payload: res.data\n      });\n      dispatch({\n        type: DELETE_ACCOUNT,\n        payload: res.data\n      });\n      dispatch(setAlert(\"Account deleted\", \"success\"));\n    } catch (err) {\n      const errors = err.response.data.errors;\n      console.log(err);\n\n      if (errors) {\n        errors.forEach(error => {\n          dispatch(setAlert(error, \"danger\"));\n        });\n      }\n\n      dispatch({\n        type: PROFILE_ERROR,\n        payload: {\n          status: err.response.status,\n          msg: err.response.statusText\n        }\n      });\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/rshaikh/Desktop/development/dev-front/src/actions/profile.js"],"names":["setAlert","axios","PROFILE_ERROR","GET_PROFILE","ADD_EDUCATION_ERROR","ADD_EXPERIENCE_ERROR","DELETE_ACCOUNT","CLEAR_PROFILE","GET_ALL_PROFILE","ALL_PROFILE_ERROR","getCurrentUserProfile","dispatch","res","get","type","payload","data","err","status","response","msg","statusText","getProfileByUserId","id","getAllProfile","getGithubRepo","handle","GET_REPO","createProfile","fromData","history","edit","console","log","skills","constructor","Array","join","config","headers","post","push","errors","forEach","error","addEducation","addExperience","deleteExperience","delete","deleteEducation","deleteAccount","window","confirm"],"mappings":"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","sourcesContent":["import {setAlert} from './alert';\r\nimport axios from 'axios';\r\nimport{ PROFILE_ERROR, GET_PROFILE, ADD_EDUCATION_ERROR, ADD_EXPERIENCE_ERROR, DELETE_ACCOUNT,CLEAR_PROFILE,\r\n        GET_ALL_PROFILE, ALL_PROFILE_ERROR} from './types';\r\n\r\n\r\n// current user profile\r\nexport const getCurrentUserProfile = ()=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get('http://127.0.0.1:5000/api/profile/profile/')\r\n\r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const getProfileByUserId = (id)=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get(`http://127.0.0.1:5000/api/profile/user/${id}`)\r\n\r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport const getAllProfile = ()=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get('http://127.0.0.1:5000/api/profile/all/')\r\n\r\n        dispatch({\r\n            type: GET_ALL_PROFILE,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: ALL_PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const getGithubRepo = (handle)=> async dispatch =>{\r\n\r\n    try{\r\n        debugger;\r\n        const res = await axios.get(`http://127.0.0.1:5000/api/profile/github/${handle}`)\r\n\r\n        dispatch({\r\n            type: GET_REPO,\r\n            payload: res.data\r\n        })\r\n\r\n    }\r\n    catch(err){ \r\n        debugger;\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n// create update profile\r\nexport const createProfile = (fromData, history, edit=false) => async dispatch =>{\r\n    try{    \r\n        console.log(\"Profile Form Data\", fromData)\r\n        debugger;\r\n        if(fromData.skills.constructor == Array){\r\n            fromData.skills = fromData.skills.join()\r\n        }\r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.post('http://127.0.0.1:5000/api/profile/createupdateprofile/', fromData, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(edit? \"Profile Updated\": \"Profile Created\", \"success\"));\r\n        \r\n        \r\n        history.push('/dashboard');\r\n        \r\n\r\n\r\n    }   \r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const addEducation = (fromData, history, edit=false) => async dispatch=>{\r\n    try{    \r\n        \r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.post('http://127.0.0.1:5000/api/profile/addEducation/', fromData, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(edit? \"Education Updated\": \"Education Added\", \"success\"));\r\n        \r\n        \r\n        history.push('/dashboard');\r\n        \r\n\r\n\r\n    }   \r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_EDUCATION_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n\r\n}\r\n\r\nexport const addExperience = (fromData, history, edit=false) => async dispatch=>{\r\n    try{    \r\n        \r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.post('http://127.0.0.1:5000/api/profile/addExperience/', fromData, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(edit? \"Education Updated\": \"Education Added\", \"success\"));\r\n        \r\n        \r\n        history.push('/dashboard');\r\n        \r\n\r\n\r\n    }   \r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: ADD_EXPERIENCE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n\r\n}\r\n\r\n\r\nexport const deleteExperience = (id) => async dispatch =>{\r\n    try{\r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.delete(`http://127.0.0.1:5000/api/profile/experience/${id}`, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(\"Experience deleted\", \"success\"));\r\n    }\r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n}\r\n\r\n\r\nexport const deleteEducation = (id) => async dispatch =>{\r\n    try{\r\n        const config = {\r\n            headers : {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n\r\n        const res = await axios.delete(`http://127.0.0.1:5000/api/profile/education/${id}`, config)\r\n        \r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(\"Education deleted\", \"success\"));\r\n    }\r\n    catch(err){\r\n\r\n        const errors = err.response.data.errors\r\n        console.log(err)\r\n        if(errors){\r\n            errors.forEach(error => {\r\n                dispatch(setAlert(error,\"danger\"))\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: PROFILE_ERROR,\r\n            payload: {status:err.response.status, msg:err.response.statusText}\r\n        });\r\n\r\n    }   \r\n}\r\n\r\n\r\nexport const deleteAccount = (id) => async dispatch =>{\r\n\r\n    if(window.confirm(\"Are you sure?\")){\r\n\r\n        try{\r\n            const config = {\r\n                headers : {\r\n                    \"content-type\": \"application/json\",\r\n                }\r\n            }\r\n    \r\n            const res = await axios.delete(`http://127.0.0.1:5000/api/profile/profile`, config)\r\n            \r\n            dispatch({\r\n                type: CLEAR_PROFILE,\r\n                payload: res.data\r\n            });\r\n\r\n            dispatch({\r\n                type: DELETE_ACCOUNT,\r\n                payload: res.data\r\n            });\r\n            dispatch(setAlert(\"Account deleted\", \"success\"));\r\n        }\r\n        catch(err){\r\n    \r\n            const errors = err.response.data.errors\r\n            console.log(err)\r\n            if(errors){\r\n                errors.forEach(error => {\r\n                    dispatch(setAlert(error,\"danger\"))\r\n                });\r\n            }\r\n    \r\n            dispatch({\r\n                type: PROFILE_ERROR,\r\n                payload: {status:err.response.status, msg:err.response.statusText}\r\n            });\r\n    \r\n        }\r\n\r\n    }\r\n       \r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}